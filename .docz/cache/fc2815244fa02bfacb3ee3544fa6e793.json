{"remainingRequest":"/home/ivan/Sites/moodlenet/node_modules/thread-loader/dist/cjs.js??ref--11-1!/home/ivan/Sites/moodlenet/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--11-2!/home/ivan/Sites/moodlenet/node_modules/source-map-loader/index.js!/home/ivan/Sites/moodlenet/src/styleguide/Wrapper.tsx","dependencies":[{"path":"/home/ivan/Sites/moodlenet/src/styleguide/Wrapper.tsx","mtime":1558432523850},{"path":"/home/ivan/Sites/moodlenet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ivan/Sites/moodlenet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ivan/Sites/moodlenet/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ivan/Sites/moodlenet/node_modules/source-map-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvaXZhbi9TaXRlcy9tb29kbGVuZXQvbm9kZV9tb2R1bGVzL2RvY3otY29yZS9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL2l2YW4vU2l0ZXMvbW9vZGxlbmV0L25vZGVfbW9kdWxlcy9kb2N6LWNvcmUvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwp2YXIgX2pzeEZpbGVOYW1lID0gIi9ob21lL2l2YW4vU2l0ZXMvbW9vZGxlbmV0L3NyYy9zdHlsZWd1aWRlL1dyYXBwZXIudHN4IjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGVudGVyTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZW50ZXJNb2R1bGU7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IG1vb2RsZW5ldCB9IGZyb20gJy4uL3RoZW1lcyc7CmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgYXMgWmVuVGhlbWVQcm92aWRlciB9IGZyb20gJ0B6ZW5kZXNrZ2FyZGVuL3JlYWN0LXRoZW1pbmcnOwp2YXIgZGVmYXVsdENvbnRleHREYXRhID0gewogIGRhcms6IGZhbHNlLAogIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKCkge30KfTsKdmFyIFRoZW1lQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoZGVmYXVsdENvbnRleHREYXRhKTsKCnZhciB1c2VUaGVtZSA9IGZ1bmN0aW9uIHVzZVRoZW1lKCkgewogIHJldHVybiBSZWFjdC51c2VDb250ZXh0KFRoZW1lQ29udGV4dCk7Cn07Cgp2YXIgdXNlRWZmZWN0RGFya01vZGUgPSBmdW5jdGlvbiB1c2VFZmZlY3REYXJrTW9kZSgpIHsKICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoewogICAgZGFyazogZmFsc2UsCiAgICBoYXNUaGVtZU1vdW50ZWQ6IGZhbHNlCiAgfSksCiAgICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLAogICAgICB0aGVtZVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlMlswXSwKICAgICAgc2V0VGhlbWVTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07CgogIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICB2YXIgbHNEYXJrID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RhcmsnKSA9PT0gJ3RydWUnOwogICAgc2V0VGhlbWVTdGF0ZShfb2JqZWN0U3ByZWFkKHt9LCB0aGVtZVN0YXRlLCB7CiAgICAgIGRhcms6IGxzRGFyaywKICAgICAgaGFzVGhlbWVNb3VudGVkOiB0cnVlCiAgICB9KSk7CiAgfSwgW10pOwogIHJldHVybiBbdGhlbWVTdGF0ZSwgc2V0VGhlbWVTdGF0ZV07Cn07Cgp2YXIgVGhlbWVQcm92aWRlciA9IGZ1bmN0aW9uIFRoZW1lUHJvdmlkZXIoX3JlZikgewogIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47CgogIHZhciBfdXNlRWZmZWN0RGFya01vZGUgPSB1c2VFZmZlY3REYXJrTW9kZSgpLAogICAgICBfdXNlRWZmZWN0RGFya01vZGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZUVmZmVjdERhcmtNb2RlLCAyKSwKICAgICAgdGhlbWVTdGF0ZSA9IF91c2VFZmZlY3REYXJrTW9kZTJbMF0sCiAgICAgIHNldFRoZW1lU3RhdGUgPSBfdXNlRWZmZWN0RGFya01vZGUyWzFdOwoKICBpZiAoIXRoZW1lU3RhdGUuaGFzVGhlbWVNb3VudGVkKSB7CiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICBfX3NvdXJjZTogewogICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgbGluZU51bWJlcjogMzAKICAgICAgfSwKICAgICAgX19zZWxmOiB0aGlzCiAgICB9KTsKICB9CgogIHZhciB0b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUoKSB7CiAgICB2YXIgZGFyayA9ICF0aGVtZVN0YXRlLmRhcms7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGFyaycsIEpTT04uc3RyaW5naWZ5KGRhcmspKTsKICAgIHNldFRoZW1lU3RhdGUoX29iamVjdFNwcmVhZCh7fSwgdGhlbWVTdGF0ZSwgewogICAgICBkYXJrOiBkYXJrCiAgICB9KSk7CiAgfTsKCiAgdmFyIGNvbXB1dGVkVGhlbWUgPSB0aGVtZVN0YXRlLmRhcmsgPyBtb29kbGVuZXQoJ2RhcmsnKSA6IG1vb2RsZW5ldCgnbGlnaHQnKTsKICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChaZW5UaGVtZVByb3ZpZGVyLCB7CiAgICB0aGVtZTogY29tcHV0ZWRUaGVtZSwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChUaGVtZUNvbnRleHQuUHJvdmlkZXIsIHsKICAgIHZhbHVlOiB7CiAgICAgIGRhcms6IHRoZW1lU3RhdGUuZGFyaywKICAgICAgdG9nZ2xlOiB0b2dnbGUKICAgIH0sCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0MwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIGNoaWxkcmVuKSk7Cn07Cgp2YXIgX2RlZmF1bHQgPSBUaGVtZVByb3ZpZGVyOwpleHBvcnQgZGVmYXVsdCBfZGVmYXVsdDsKCmlmICh0eXBlb2YgVGhlbWVQcm92aWRlciAhPT0gJ3VuZGVmaW5lZCcgJiYgVGhlbWVQcm92aWRlciAmJiBUaGVtZVByb3ZpZGVyID09PSBPYmplY3QoVGhlbWVQcm92aWRlcikgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShUaGVtZVByb3ZpZGVyKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaGVtZVByb3ZpZGVyLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiVGhlbWVQcm92aWRlciIsCiAgICAgIGZpbGVuYW1lOiAic3JjL3N0eWxlZ3VpZGUvV3JhcHBlci50c3giCiAgICB9CiAgfSk7Cn0KCmV4cG9ydCB7IFRoZW1lUHJvdmlkZXIsIHVzZVRoZW1lIH07CgppZiAodHlwZW9mIHVzZVRoZW1lICE9PSAndW5kZWZpbmVkJyAmJiB1c2VUaGVtZSAmJiB1c2VUaGVtZSA9PT0gT2JqZWN0KHVzZVRoZW1lKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKHVzZVRoZW1lKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1c2VUaGVtZSwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogInVzZVRoZW1lIiwKICAgICAgZmlsZW5hbWU6ICJzcmMvc3R5bGVndWlkZS9XcmFwcGVyLnRzeCIKICAgIH0KICB9KTsKfQoKaWYgKHR5cGVvZiBUaGVtZVByb3ZpZGVyICE9PSAndW5kZWZpbmVkJyAmJiBUaGVtZVByb3ZpZGVyICYmIFRoZW1lUHJvdmlkZXIgPT09IE9iamVjdChUaGVtZVByb3ZpZGVyKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKFRoZW1lUHJvdmlkZXIpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRoZW1lUHJvdmlkZXIsICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJUaGVtZVByb3ZpZGVyIiwKICAgICAgZmlsZW5hbWU6ICJzcmMvc3R5bGVndWlkZS9XcmFwcGVyLnRzeCIKICAgIH0KICB9KTsKfQoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5kZWZhdWx0OwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihkZWZhdWx0Q29udGV4dERhdGEsICJkZWZhdWx0Q29udGV4dERhdGEiLCAiL2hvbWUvaXZhbi9TaXRlcy9tb29kbGVuZXQvc3JjL3N0eWxlZ3VpZGUvV3JhcHBlci50c3giKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihUaGVtZUNvbnRleHQsICJUaGVtZUNvbnRleHQiLCAiL2hvbWUvaXZhbi9TaXRlcy9tb29kbGVuZXQvc3JjL3N0eWxlZ3VpZGUvV3JhcHBlci50c3giKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3Rlcih1c2VUaGVtZSwgInVzZVRoZW1lIiwgIi9ob21lL2l2YW4vU2l0ZXMvbW9vZGxlbmV0L3NyYy9zdHlsZWd1aWRlL1dyYXBwZXIudHN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIodXNlRWZmZWN0RGFya01vZGUsICJ1c2VFZmZlY3REYXJrTW9kZSIsICIvaG9tZS9pdmFuL1NpdGVzL21vb2RsZW5ldC9zcmMvc3R5bGVndWlkZS9XcmFwcGVyLnRzeCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKFRoZW1lUHJvdmlkZXIsICJUaGVtZVByb3ZpZGVyIiwgIi9ob21lL2l2YW4vU2l0ZXMvbW9vZGxlbmV0L3NyYy9zdHlsZWd1aWRlL1dyYXBwZXIudHN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoX2RlZmF1bHQsICJkZWZhdWx0IiwgIi9ob21lL2l2YW4vU2l0ZXMvbW9vZGxlbmV0L3NyYy9zdHlsZWd1aWRlL1dyYXBwZXIudHN4Iik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmxlYXZlTW9kdWxlOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["/home/ivan/Sites/moodlenet/src/styleguide/Wrapper.tsx"],"names":["React","moodlenet","ThemeProvider","ZenThemeProvider","defaultContextData","dark","toggle","ThemeContext","createContext","useTheme","useContext","useEffectDarkMode","useState","hasThemeMounted","themeState","setThemeState","useEffect","lsDark","localStorage","getItem","children","setItem","JSON","stringify","computedTheme"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,WAA1B;AACA,SAASC,aAAa,IAAIC,gBAA1B,QAAkD,8BAAlD;AAEA,IAAMC,kBAAkB,GAAG;AACzBC,EAAAA,IAAI,EAAE,KADmB;AAEzBC,EAAAA,MAAM,EAAE,kBAAM,CAAE;AAFS,CAA3B;AAKA,IAAMC,YAAY,GAAGP,KAAK,CAACQ,aAAN,CAAoBJ,kBAApB,CAArB;;AACA,IAAMK,QAAQ,GAAG,SAAXA,QAAW;AAAA,SAAMT,KAAK,CAACU,UAAN,CAAiBH,YAAjB,CAAN;AAAA,CAAjB;;AAEA,IAAMI,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAAA,wBACMX,KAAK,CAACY,QAAN,CAAoB;AACtDP,IAAAA,IAAI,EAAE,KADgD;AAEtDQ,IAAAA,eAAe,EAAE;AAFqC,GAApB,CADN;AAAA;AAAA,MACvBC,UADuB;AAAA,MACXC,aADW;;AAM9Bf,EAAAA,KAAK,CAACgB,SAAN,CAAgB,YAAM;AACpB,QAAMC,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,MAAiC,MAAhD;AACAJ,IAAAA,aAAa,mBAAMD,UAAN;AAAkBT,MAAAA,IAAI,EAAEY,MAAxB;AAAgCJ,MAAAA,eAAe,EAAE;AAAjD,OAAb;AACD,GAHD,EAGG,EAHH;AAKA,SAAO,CAACC,UAAD,EAAaC,aAAb,CAAP;AACD,CAZD;;AAcA,IAAMb,aAAa,GAAG,SAAhBA,aAAgB,OAAkB;AAAA,MAAfkB,QAAe,QAAfA,QAAe;;AAAA,2BACFT,iBAAiB,EADf;AAAA;AAAA,MAC/BG,UAD+B;AAAA,MACnBC,aADmB;;AAEtC,MAAI,CAACD,UAAU,CAACD,eAAhB,EAAiC;AAC/B,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAED,MAAMP,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,QAAMD,IAAI,GAAG,CAACS,UAAU,CAACT,IAAzB;AACAa,IAAAA,YAAY,CAACG,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAelB,IAAf,CAA7B;AACAU,IAAAA,aAAa,mBAAMD,UAAN;AAAkBT,MAAAA,IAAI,EAAJA;AAAlB,OAAb;AACD,GAJD;;AAKA,MAAMmB,aAAa,GAAGV,UAAU,CAACT,IAAX,GAClBJ,SAAS,CAAC,MAAD,CADS,GAElBA,SAAS,CAAC,OAAD,CAFb;AAGA,SACE,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAEuB,aAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,YAAD,CAAc,QAAd;AACE,IAAA,KAAK,EAAE;AACLnB,MAAAA,IAAI,EAAES,UAAU,CAAET,IADb;AAELC,MAAAA,MAAM,EAANA;AAFK,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGc,QANH,CADF,CADF;AAYD,CA1BD;;eA4BelB,a;AAAf;;;;;;;;;;;;;AACA,SAASA,aAAT,EAAwBO,QAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAnDML,kB;0BAKAG,Y;0BACAE,Q;0BAEAE,iB;0BAcAT,a","sourcesContent":["import React from 'react';\nimport { moodlenet } from '../themes';\nimport { ThemeProvider as ZenThemeProvider } from '@zendeskgarden/react-theming';\n\nconst defaultContextData = {\n  dark: false,\n  toggle: () => {}\n};\n\nconst ThemeContext = React.createContext(defaultContextData);\nconst useTheme = () => React.useContext(ThemeContext);\n\nconst useEffectDarkMode = () => {\n  const [themeState, setThemeState] = React.useState<any>({\n    dark: false,\n    hasThemeMounted: false\n  });\n\n  React.useEffect(() => {\n    const lsDark = localStorage.getItem('dark') === 'true';\n    setThemeState({ ...themeState, dark: lsDark, hasThemeMounted: true });\n  }, []);\n\n  return [themeState, setThemeState];\n};\n\nconst ThemeProvider = ({ children }) => {\n  const [themeState, setThemeState] = useEffectDarkMode();\n  if (!themeState.hasThemeMounted) {\n    return <div />;\n  }\n\n  const toggle = () => {\n    const dark = !themeState.dark;\n    localStorage.setItem('dark', JSON.stringify(dark));\n    setThemeState({ ...themeState, dark });\n  };\n  const computedTheme = themeState.dark\n    ? moodlenet('dark')\n    : moodlenet('light');\n  return (\n    <ZenThemeProvider theme={computedTheme}>\n      <ThemeContext.Provider\n        value={{\n          dark: themeState!.dark,\n          toggle\n        }}\n      >\n        {children}\n      </ThemeContext.Provider>\n    </ZenThemeProvider>\n  );\n};\n\nexport default ThemeProvider;\nexport { ThemeProvider, useTheme };\n"]}]}