query getAgentQuery(
  $id: Int!, 
  $limitComm: Int, 
  $endComm: Int, 
  $limitColl: Int, 
  $endColl: Int, 
  $limitTimeline:Int, 
  $endTimeline:Int
  )  {
    user(localId: $id) {
        id
        localId
        name
        preferredUsername
        location
        summary
        icon
        image
        outbox (limit: $limitTimeline, after:$endTimeline) {
          pageInfo {
            startCursor
            endCursor
          }
            edges {
              node {
                id
                activityType
                type
                published
                object {
                  __typename
                  ... on Community {
                  id
                  name
                  localId
                  }
                ... on Comment {
                  id
                  localId
                  context {
                    __typename
                    ... on Community {
                      id
                      name
                      localId
                    }
                    ... on Collection {
                      id
                      name
                      localId
                    }
                  }
                  localId
                  }
                  ... on Collection {
                  id
                  name
                  localId
                  summary
                  icon
                  community {
                    localId
                  }
                  }
                    ... on Resource {
                  id
                  name
                  localId
                  summary
                  icon
                  url
                  collection {
                      name
                      localId
                      community {
                        localId
                      }
                  }
                  }
                }
                user {
                  name
                  preferredUsername
                  id
                  localId
                  icon
                }
              }
            }
          }
            joinedCommunities(limit: $limitComm, after:$endComm) {
            pageInfo {
              startCursor
              endCursor
            }
          edges {
              node {
                id
                localId
                preferredUsername
                name
                summary
                icon
                collections {
                  totalCount
                }
                members {
                  totalCount
                }
                threads {
                  totalCount
                }
                followed

              }
          }}
            followingCollections(limit: $limitColl, after:$endColl) {
            pageInfo {
              startCursor
              endCursor
            }
            edges {
              node {
                id
                localId
                preferredUsername
                name
                community {
                  localId
                  id
                }
                summary
                icon
                followed
                followers {
                  totalCount
                }
                resources {
                  totalCount
                }
                threads {
                  totalCount
                }
                # followersCount
                # followingCount

              }
          }
        }
        }
}

